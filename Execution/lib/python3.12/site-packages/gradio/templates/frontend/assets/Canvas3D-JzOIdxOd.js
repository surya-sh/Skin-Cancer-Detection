const __vite__fileDeps=["./index-DZX1lH7G.js","./index-C1aeWpzY.js","./index-yfOG0NC1.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as P}from"./index-C1aeWpzY.js";import{r as V}from"./file-url-DoxvUUVV.js";import"./DownloadLink.svelte_svelte_type_style_lang-C_5UIfol.js";import"./svelte/svelte.js";const{SvelteComponent:L,binding_callbacks:A,detach:E,element:S,flush:l,init:k,insert:D,noop:y,safe_not_equal:j}=window.__gradio__svelte__internal,{onMount:B}=window.__gradio__svelte__internal;function U(s){let t;return{c(){t=S("canvas")},m(i,n){D(i,t,n),s[12](t)},p:y,i:y,o:y,d(i){i&&E(t),s[12](null)}}}function W(s,t,i){let n,x,{value:m}=t,{display_mode:u}=t,{clear_color:f}=t,{camera_position:h}=t,{zoom_speed:g}=t,{pan_speed:v}=t,{resolved_url:_=void 0}=t,w,d,a,c,b=!1;B(()=>((async()=>{x=await P(()=>import("./index-DZX1lH7G.js").then(r=>r.bX),__vite__mapDeps([0,1,2]),import.meta.url),x.createViewerForCanvas(d,{clearColor:f,useRightHandedSystem:!0,cameraAutoOrbit:{enabled:!1},onInitialized:r=>{c=r}}).then(r=>{a=r,i(10,b=!0)})})(),()=>{a?.dispose()}));function C(e,r){c.scene.forcePointsCloud=e,c.scene.forceWireframe=r}function I(e){a&&(e?a.loadModel(e,{pluginOptions:{obj:{importVertexColors:!0}}}).then(()=>{u==="point_cloud"?C(!0,!1):u==="wireframe"?C(!1,!0):z(h,g,v)}):a.resetModel())}function z(e,r,p){a.resetCamera();const o=c.camera;e[0]!==null&&(o.alpha=e[0]*Math.PI/180),e[1]!==null&&(o.beta=e[1]*Math.PI/180),e[2]!==null&&(o.radius=e[2]),o.lowerRadiusLimit=.1;const R=()=>{o.wheelPrecision=250/(o.radius*r),o.panningSensibility=1e4*p/o.radius};R(),o.onAfterCheckInputsObservable.add(R)}function M(e,r,p){c&&z(e,r,p)}function O(e){A[e?"unshift":"push"](()=>{d=e,i(0,d)})}return s.$$set=e=>{"value"in e&&i(2,m=e.value),"display_mode"in e&&i(3,u=e.display_mode),"clear_color"in e&&i(4,f=e.clear_color),"camera_position"in e&&i(5,h=e.camera_position),"zoom_speed"in e&&i(6,g=e.zoom_speed),"pan_speed"in e&&i(7,v=e.pan_speed),"resolved_url"in e&&i(1,_=e.resolved_url)},s.$$.update=()=>{if(s.$$.dirty&4&&i(11,n=m.url),s.$$.dirty&2560&&(i(1,_=n),n)){i(9,w=n);const e=n;V(n).then(r=>{w===e?i(1,_=r??void 0):r&&URL.revokeObjectURL(r)})}s.$$.dirty&1026&&b&&I(_)},[d,_,m,u,f,h,g,v,M,w,b,n,O]}class T extends L{constructor(t){super(),k(this,t,W,U,j,{value:2,display_mode:3,clear_color:4,camera_position:5,zoom_speed:6,pan_speed:7,resolved_url:1,reset_camera_position:8})}get value(){return this.$$.ctx[2]}set value(t){this.$$set({value:t}),l()}get display_mode(){return this.$$.ctx[3]}set display_mode(t){this.$$set({display_mode:t}),l()}get clear_color(){return this.$$.ctx[4]}set clear_color(t){this.$$set({clear_color:t}),l()}get camera_position(){return this.$$.ctx[5]}set camera_position(t){this.$$set({camera_position:t}),l()}get zoom_speed(){return this.$$.ctx[6]}set zoom_speed(t){this.$$set({zoom_speed:t}),l()}get pan_speed(){return this.$$.ctx[7]}set pan_speed(t){this.$$set({pan_speed:t}),l()}get resolved_url(){return this.$$.ctx[1]}set resolved_url(t){this.$$set({resolved_url:t}),l()}get reset_camera_position(){return this.$$.ctx[8]}}export{T as default};
//# sourceMappingURL=Canvas3D-JzOIdxOd.js.map
