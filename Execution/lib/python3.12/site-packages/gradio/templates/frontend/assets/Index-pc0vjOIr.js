import"./IconButtonWrapper.svelte_svelte_type_style_lang-CPevJZa9.js";import{B as zt}from"./BlockTitle-DWfhijPp.js";import"./MarkdownCode.svelte_svelte_type_style_lang-BzidkVB1.js";import{C as Mt}from"./Clear-By3xiIwg.js";import{F as Tt}from"./File-BQ_9P3Ye.js";import{M as Dt}from"./SelectSource-C_xcpRDd.js";import{M as Bt}from"./Music-CDm0RGMk.js";import{S as Et}from"./Send-DyoOovnk.js";import{S as Ht}from"./Square-oAGqOwsh.js";import{V as Ft}from"./Video-fsmLZWjA.js";import{a as Rt}from"./Upload-CoxNxyp7.js";import"./DownloadLink.svelte_svelte_type_style_lang-C_5UIfol.js";import{I as Vt}from"./Image-CnqB5dbD.js";/* empty css                                                   */import{I as At}from"./InteractiveAudio-BsUyFQeM.js";import{B as Pt}from"./Block-CMfAaXj9.js";import{S as It}from"./index-DTtw30GJ.js";import"./StreamingBar.svelte_svelte_type_style_lang-CDNxkBIr.js";import{default as Ci}from"./Example-DD8u6eIo.js";import"./Info-ChYpIPU9.js";import"./MarkdownCode-DYhoLAju.js";import"./index-C1aeWpzY.js";import"./svelte/svelte.js";import"./prism-python-Bhmms-Lt.js";/* empty css                                             */import"./file-url-DoxvUUVV.js";import"./ModifyUpload-Dx7yiEqZ.js";import"./IconButton-DbC-jsk_.js";import"./Download-DVtk-Jv3.js";import"./Edit-BpRIf5rU.js";import"./Undo-DCjBnnSO.js";import"./IconButtonWrapper-DrWC4NJv.js";import"./DownloadLink-QIttOhoR.js";import"./BlockLabel-JbMBN4MZ.js";import"./StreamingBar-BU9S4hA7.js";import"./AudioPlayer-CfMyjH_U.js";import"./utils-BsGrhMNe.js";import"./Trim-JQYgj7Jd.js";import"./Play-B0Q0U1Qz.js";import"./Empty-BgOmVBFg.js";import"./hls-CnVhpNcu.js";import"./Video-C-llMUaJ.js";const{SvelteComponent:Ut,append:ve,attr:N,detach:jt,init:Gt,insert:Lt,noop:je,safe_not_equal:Wt,svg_element:he}=window.__gradio__svelte__internal;function Kt(t){let e,l,i,o,s;return{c(){e=he("svg"),l=he("g"),i=he("g"),o=he("g"),s=he("path"),N(l,"id","SVGRepo_bgCarrier"),N(l,"stroke-width","0"),N(i,"id","SVGRepo_tracerCarrier"),N(i,"stroke-linecap","round"),N(i,"stroke-linejoin","round"),N(s,"d","M1752.768 221.109C1532.646.986 1174.283.986 954.161 221.109l-838.588 838.588c-154.052 154.165-154.052 404.894 0 558.946 149.534 149.421 409.976 149.308 559.059 0l758.738-758.626c87.982-88.094 87.982-231.417 0-319.51-88.32-88.208-231.642-87.982-319.51 0l-638.796 638.908 79.85 79.849 638.795-638.908c43.934-43.821 115.539-43.934 159.812 0 43.934 44.047 43.934 115.877 0 159.812l-758.739 758.625c-110.23 110.118-289.355 110.005-399.36 0-110.118-110.117-110.005-289.242 0-399.247l838.588-838.588c175.963-175.962 462.382-176.188 638.909 0 176.075 176.188 176.075 462.833 0 638.908l-798.607 798.72 79.849 79.85 798.607-798.72c220.01-220.123 220.01-578.485 0-798.607"),N(s,"fill-rule","evenodd"),N(o,"id","SVGRepo_iconCarrier"),N(e,"fill","currentColor"),N(e,"width","100%"),N(e,"height","100%"),N(e,"viewBox","0 0 1920 1920"),N(e,"xmlns","http://www.w3.org/2000/svg")},m(g,a){Lt(g,e,a),ve(e,l),ve(e,i),ve(e,o),ve(o,s)},p:je,i:je,o:je,d(g){g&&jt(e)}}}class Yt extends Ut{constructor(e){super(),Gt(this,e,null,Kt,Wt,{})}}const{tick:Nt}=window.__gradio__svelte__internal;async function We(t,e,l){if(await Nt(),e===l)return;const i=window.getComputedStyle(t),o=parseFloat(i.paddingTop),s=parseFloat(i.paddingBottom),g=parseFloat(i.lineHeight);let a=l===void 0?!1:o+s+g*l,r=o+s+e*g;t.style.height="1px";let b;a&&t.scrollHeight>a?b=a:t.scrollHeight<r?b=r:b=t.scrollHeight,t.style.height=`${b}px`}function Xt(t,e){if(e.lines===e.max_lines)return;t.style.overflowY="scroll";function l(i){We(i.target,e.lines,e.max_lines)}if(t.addEventListener("input",l),!!e.text.trim())return We(t,e.lines,e.max_lines),{destroy:()=>t.removeEventListener("input",l)}}const{SvelteComponent:Jt,action_destroyer:Ot,add_flush_callback:Ge,append:X,attr:S,bind:Le,binding_callbacks:ce,bubble:ke,check_outros:ne,create_component:O,destroy_component:Q,destroy_each:Qt,detach:Z,element:J,ensure_array_like:Oe,flush:q,group_outros:se,init:Zt,insert:y,is_function:ze,listen:W,mount_component:x,noop:oe,prevent_default:yt,run_all:xt,safe_not_equal:$t,set_data:Ke,set_input_value:Qe,set_style:Ze,space:ie,text:Ye,toggle_class:ee,transition_in:v,transition_out:C}=window.__gradio__svelte__internal,{onMount:el,beforeUpdate:tl,afterUpdate:ll,createEventDispatcher:il,tick:ye}=window.__gradio__svelte__internal;function xe(t,e,l){const i=t.slice();return i[71]=e[l],i[73]=l,i}function nl(t){let e;return{c(){e=Ye(t[7])},m(l,i){y(l,e,i)},p(l,i){i[0]&128&&Ke(e,l[7])},d(l){l&&Z(e)}}}function $e(t){let e,l,i,o=Oe(t[0].files),s=[];for(let r=0;r<o.length;r+=1)s[r]=et(xe(t,o,r));const g=r=>C(s[r],1,1,()=>{s[r]=null});let a=t[28]&&tt();return{c(){e=J("div");for(let r=0;r<s.length;r+=1)s[r].c();l=ie(),a&&a.c(),S(e,"class","thumbnails scroll-hide svelte-1q3gv4b"),S(e,"aria-label","Uploaded files"),S(e,"data-testid","container_el"),Ze(e,"display",t[0].files.length>0||t[28]?"flex":"none")},m(r,b){y(r,e,b);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(e,null);X(e,l),a&&a.m(e,null),i=!0},p(r,b){if(b[0]&65|b[1]&32){o=Oe(r[0].files);let f;for(f=0;f<o.length;f+=1){const k=xe(r,o,f);s[f]?(s[f].p(k,b),v(s[f],1)):(s[f]=et(k),s[f].c(),v(s[f],1),s[f].m(e,l))}for(se(),f=o.length;f<s.length;f+=1)g(f);ne()}r[28]?a||(a=tt(),a.c(),a.m(e,null)):a&&(a.d(1),a=null),(!i||b[0]&268435457)&&Ze(e,"display",r[0].files.length>0||r[28]?"flex":"none")},i(r){if(!i){for(let b=0;b<o.length;b+=1)v(s[b]);i=!0}},o(r){s=s.filter(Boolean);for(let b=0;b<s.length;b+=1)C(s[b]);i=!1},d(r){r&&Z(e),Qt(s,r),a&&a.d()}}}function sl(t){let e,l;return e=new Tt({}),{c(){O(e.$$.fragment)},m(i,o){x(e,i,o),l=!0},p:oe,i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){Q(e,i)}}}function ol(t){let e,l;return e=new Ft({}),{c(){O(e.$$.fragment)},m(i,o){x(e,i,o),l=!0},p:oe,i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){Q(e,i)}}}function rl(t){let e,l;return e=new Bt({}),{c(){O(e.$$.fragment)},m(i,o){x(e,i,o),l=!0},p:oe,i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){Q(e,i)}}}function ul(t){let e,l;return e=new Vt({props:{src:t[71].url,title:null,alt:"",loading:"lazy",class:"thumbnail-image"}}),{c(){O(e.$$.fragment)},m(i,o){x(e,i,o),l=!0},p(i,o){const s={};o[0]&1&&(s.src=i[71].url),e.$set(s)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){Q(e,i)}}}function et(t){let e,l,i,o,s,g,a,r,b,f,k,h,V;o=new Mt({});function _(...p){return t[51](t[73],...p)}const c=[ul,rl,ol,sl],m=[];function R(p,A){return A[0]&1&&(g=null),A[0]&1&&(a=null),A[0]&1&&(r=null),g==null&&(g=!!(p[71].mime_type&&p[71].mime_type.includes("image"))),g?0:(a==null&&(a=!!(p[71].mime_type&&p[71].mime_type.includes("audio"))),a?1:(r==null&&(r=!!(p[71].mime_type&&p[71].mime_type.includes("video"))),r?2:3))}return b=R(t,[-1,-1,-1]),f=m[b]=c[b](t),{c(){e=J("span"),l=J("button"),i=J("button"),O(o.$$.fragment),s=ie(),f.c(),S(i,"class","delete-button svelte-1q3gv4b"),ee(i,"disabled",t[6]),S(l,"class","thumbnail-item thumbnail-small svelte-1q3gv4b"),S(e,"role","listitem"),S(e,"aria-label","File thumbnail")},m(p,A){y(p,e,A),X(e,l),X(l,i),x(o,i,null),X(l,s),m[b].m(l,null),k=!0,h||(V=W(i,"click",_),h=!0)},p(p,A){t=p,(!k||A[0]&64)&&ee(i,"disabled",t[6]);let I=b;b=R(t,A),b===I?m[b].p(t,A):(se(),C(m[I],1,1,()=>{m[I]=null}),ne(),f=m[b],f?f.p(t,A):(f=m[b]=c[b](t),f.c()),v(f,1),f.m(l,null))},i(p){k||(v(o.$$.fragment,p),v(f),k=!0)},o(p){C(o.$$.fragment,p),C(f),k=!1},d(p){p&&Z(e),Q(o),m[b].d(),h=!1,V()}}}function tt(t){let e;return{c(){e=J("div"),S(e,"class","loader svelte-1q3gv4b"),S(e,"role","status"),S(e,"aria-label","Uploading")},m(l,i){y(l,e,i)},d(l){l&&Z(e)}}}function lt(t){let e,l;return e=new At({props:{sources:["microphone"],class_name:"compact-audio",recording:ut,waveform_settings:t[22],waveform_options:t[23],i18n:t[4],active_source:t[2],upload:t[19],stream_handler:t[20],stream_every:1,editable:!0,label:t[7],root:t[16],loop:!1,show_label:!1,show_download_button:!1,dragging:!1}}),e.$on("change",t[52]),e.$on("clear",t[53]),e.$on("start_recording",t[54]),e.$on("pause_recording",t[55]),e.$on("stop_recording",t[56]),{c(){O(e.$$.fragment)},m(i,o){x(e,i,o),l=!0},p(i,o){const s={};o[0]&4194304&&(s.waveform_settings=i[22]),o[0]&8388608&&(s.waveform_options=i[23]),o[0]&16&&(s.i18n=i[4]),o[0]&4&&(s.active_source=i[2]),o[0]&524288&&(s.upload=i[19]),o[0]&1048576&&(s.stream_handler=i[20]),o[0]&128&&(s.label=i[7]),o[0]&65536&&(s.root=i[16]),e.$set(s)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){Q(e,i)}}}function it(t){let e,l,i,o,s,g,a,r,b,f;function k(c){t[58](c)}function h(c){t[59](c)}function V(c){t[60](c)}let _={file_count:t[21],filetype:t[17],root:t[16],max_file_size:t[18],show_progress:!1,disable_click:!0,hidden:!0,upload:t[19],stream_handler:t[20]};return t[1]!==void 0&&(_.dragging=t[1]),t[28]!==void 0&&(_.uploading=t[28]),t[27]!==void 0&&(_.hidden_upload=t[27]),e=new Rt({props:_}),t[57](e),ce.push(()=>Le(e,"dragging",k)),ce.push(()=>Le(e,"uploading",h)),ce.push(()=>Le(e,"hidden_upload",V)),e.$on("load",t[35]),e.$on("error",t[61]),a=new Yt({}),{c(){O(e.$$.fragment),s=ie(),g=J("button"),O(a.$$.fragment),S(g,"data-testid","upload-button"),S(g,"class","upload-button svelte-1q3gv4b"),g.disabled=t[6]},m(c,m){x(e,c,m),y(c,s,m),y(c,g,m),x(a,g,null),r=!0,b||(f=W(g,"click",function(){ze(t[6]?void 0:t[37])&&(t[6]?void 0:t[37]).apply(this,arguments)}),b=!0)},p(c,m){t=c;const R={};m[0]&2097152&&(R.file_count=t[21]),m[0]&131072&&(R.filetype=t[17]),m[0]&65536&&(R.root=t[16]),m[0]&262144&&(R.max_file_size=t[18]),m[0]&524288&&(R.upload=t[19]),m[0]&1048576&&(R.stream_handler=t[20]),!l&&m[0]&2&&(l=!0,R.dragging=t[1],Ge(()=>l=!1)),!i&&m[0]&268435456&&(i=!0,R.uploading=t[28],Ge(()=>i=!1)),!o&&m[0]&134217728&&(o=!0,R.hidden_upload=t[27],Ge(()=>o=!1)),e.$set(R),(!r||m[0]&64)&&(g.disabled=t[6])},i(c){r||(v(e.$$.fragment,c),v(a.$$.fragment,c),r=!0)},o(c){C(e.$$.fragment,c),C(a.$$.fragment,c),r=!1},d(c){c&&(Z(s),Z(g)),t[57](null),Q(e,c),Q(a),b=!1,f()}}}function nt(t){let e,l,i,o,s;return l=new Dt({}),{c(){e=J("button"),O(l.$$.fragment),S(e,"data-testid","microphone-button"),S(e,"class","microphone-button svelte-1q3gv4b"),e.disabled=t[6],ee(e,"recording",ut)},m(g,a){y(g,e,a),x(l,e,null),i=!0,o||(s=W(e,"click",function(){ze(t[6]?void 0:t[62])&&(t[6]?void 0:t[62]).apply(this,arguments)}),o=!0)},p(g,a){t=g,(!i||a[0]&64)&&(e.disabled=t[6])},i(g){i||(v(l.$$.fragment,g),i=!0)},o(g){C(l.$$.fragment,g),i=!1},d(g){g&&Z(e),Q(l),o=!1,s()}}}function st(t){let e,l,i,o,s,g;const a=[fl,al],r=[];function b(f,k){return f[11]===!0?0:1}return l=b(t),i=r[l]=a[l](t),{c(){e=J("button"),i.c(),S(e,"class","submit-button svelte-1q3gv4b"),e.disabled=t[6],ee(e,"padded-button",t[11]!==!0)},m(f,k){y(f,e,k),r[l].m(e,null),o=!0,s||(g=W(e,"click",function(){ze(t[6]?void 0:t[39])&&(t[6]?void 0:t[39]).apply(this,arguments)}),s=!0)},p(f,k){t=f;let h=l;l=b(t),l===h?r[l].p(t,k):(se(),C(r[h],1,1,()=>{r[h]=null}),ne(),i=r[l],i?i.p(t,k):(i=r[l]=a[l](t),i.c()),v(i,1),i.m(e,null)),(!o||k[0]&64)&&(e.disabled=t[6]),(!o||k[0]&2048)&&ee(e,"padded-button",t[11]!==!0)},i(f){o||(v(i),o=!0)},o(f){C(i),o=!1},d(f){f&&Z(e),r[l].d(),s=!1,g()}}}function al(t){let e;return{c(){e=Ye(t[11])},m(l,i){y(l,e,i)},p(l,i){i[0]&2048&&Ke(e,l[11])},i:oe,o:oe,d(l){l&&Z(e)}}}function fl(t){let e,l;return e=new Et({}),{c(){O(e.$$.fragment)},m(i,o){x(e,i,o),l=!0},p:oe,i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){Q(e,i)}}}function ot(t){let e,l,i,o,s,g;const a=[cl,_l],r=[];function b(f,k){return f[12]===!0?0:1}return l=b(t),i=r[l]=a[l](t),{c(){e=J("button"),i.c(),S(e,"class","stop-button svelte-1q3gv4b"),ee(e,"padded-button",t[12]!==!0)},m(f,k){y(f,e,k),r[l].m(e,null),o=!0,s||(g=W(e,"click",t[38]),s=!0)},p(f,k){let h=l;l=b(f),l===h?r[l].p(f,k):(se(),C(r[h],1,1,()=>{r[h]=null}),ne(),i=r[l],i?i.p(f,k):(i=r[l]=a[l](f),i.c()),v(i,1),i.m(e,null)),(!o||k[0]&4096)&&ee(e,"padded-button",f[12]!==!0)},i(f){o||(v(i),o=!0)},o(f){C(i),o=!1},d(f){f&&Z(e),r[l].d(),s=!1,g()}}}function _l(t){let e;return{c(){e=Ye(t[12])},m(l,i){y(l,e,i)},p(l,i){i[0]&4096&&Ke(e,l[12])},i:oe,o:oe,d(l){l&&Z(e)}}}function cl(t){let e,l;return e=new Ht({props:{fill:"none",stroke_width:2.5}}),{c(){O(e.$$.fragment)},m(i,o){x(e,i,o),l=!0},p:oe,i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){Q(e,i)}}}function ml(t){let e,l,i,o,s=t[24]&&t[24].includes("microphone")&&t[2]==="microphone",g,a,r=t[24]&&t[24].includes("upload")&&!(t[21]==="single"&&t[0].files.length>0),b,f=t[24]&&t[24].includes("microphone"),k,h,V,_,c,m,R,p,A,I;l=new zt({props:{root:t[16],show_label:t[9],info:t[8],$$slots:{default:[nl]},$$scope:{ctx:t}}});let D=(t[0].files.length>0||t[28])&&$e(t),B=s&&lt(t),E=r&&it(t),H=f&&nt(t),M=t[11]&&st(t),F=t[12]&&ot(t);return{c(){e=J("div"),O(l.$$.fragment),i=ie(),D&&D.c(),o=ie(),B&&B.c(),g=ie(),a=J("div"),E&&E.c(),b=ie(),H&&H.c(),k=ie(),h=J("textarea"),m=ie(),M&&M.c(),R=ie(),F&&F.c(),S(h,"data-testid","textbox"),S(h,"class","scroll-hide svelte-1q3gv4b"),S(h,"dir",V=t[13]?"rtl":"ltr"),S(h,"placeholder",t[5]),S(h,"rows",t[3]),h.disabled=t[6],h.autofocus=t[14],S(h,"style",_=t[15]?"text-align: "+t[15]:""),ee(h,"no-label",!t[9]),S(a,"class","input-container svelte-1q3gv4b"),S(e,"class","full-container svelte-1q3gv4b"),S(e,"role","group"),S(e,"aria-label","Multimedia input field"),ee(e,"dragging",t[1])},m(d,w){y(d,e,w),x(l,e,null),X(e,i),D&&D.m(e,null),X(e,o),B&&B.m(e,null),X(e,g),X(e,a),E&&E.m(a,null),X(a,b),H&&H.m(a,null),X(a,k),X(a,h),Qe(h,t[0].text),t[64](h),X(a,m),M&&M.m(a,null),X(a,R),F&&F.m(a,null),t[65](e),p=!0,t[14]&&h.focus(),A||(I=[Ot(c=Xt.call(null,h,{text:t[0].text,lines:t[3],max_lines:t[10]})),W(h,"input",t[63]),W(h,"keypress",t[33]),W(h,"blur",t[49]),W(h,"select",t[32]),W(h,"focus",t[50]),W(h,"scroll",t[34]),W(h,"paste",t[40]),W(e,"dragenter",t[41]),W(e,"dragleave",t[42]),W(e,"dragover",yt(t[48])),W(e,"drop",t[43])],A=!0)},p(d,w){const j={};w[0]&65536&&(j.root=d[16]),w[0]&512&&(j.show_label=d[9]),w[0]&256&&(j.info=d[8]),w[0]&128|w[2]&4096&&(j.$$scope={dirty:w,ctx:d}),l.$set(j),d[0].files.length>0||d[28]?D?(D.p(d,w),w[0]&268435457&&v(D,1)):(D=$e(d),D.c(),v(D,1),D.m(e,o)):D&&(se(),C(D,1,1,()=>{D=null}),ne()),w[0]&16777220&&(s=d[24]&&d[24].includes("microphone")&&d[2]==="microphone"),s?B?(B.p(d,w),w[0]&16777220&&v(B,1)):(B=lt(d),B.c(),v(B,1),B.m(e,g)):B&&(se(),C(B,1,1,()=>{B=null}),ne()),w[0]&18874369&&(r=d[24]&&d[24].includes("upload")&&!(d[21]==="single"&&d[0].files.length>0)),r?E?(E.p(d,w),w[0]&18874369&&v(E,1)):(E=it(d),E.c(),v(E,1),E.m(a,b)):E&&(se(),C(E,1,1,()=>{E=null}),ne()),w[0]&16777216&&(f=d[24]&&d[24].includes("microphone")),f?H?(H.p(d,w),w[0]&16777216&&v(H,1)):(H=nt(d),H.c(),v(H,1),H.m(a,k)):H&&(se(),C(H,1,1,()=>{H=null}),ne()),(!p||w[0]&8192&&V!==(V=d[13]?"rtl":"ltr"))&&S(h,"dir",V),(!p||w[0]&32)&&S(h,"placeholder",d[5]),(!p||w[0]&8)&&S(h,"rows",d[3]),(!p||w[0]&64)&&(h.disabled=d[6]),(!p||w[0]&16384)&&(h.autofocus=d[14]),(!p||w[0]&32768&&_!==(_=d[15]?"text-align: "+d[15]:""))&&S(h,"style",_),c&&ze(c.update)&&w[0]&1033&&c.update.call(null,{text:d[0].text,lines:d[3],max_lines:d[10]}),w[0]&1&&Qe(h,d[0].text),(!p||w[0]&512)&&ee(h,"no-label",!d[9]),d[11]?M?(M.p(d,w),w[0]&2048&&v(M,1)):(M=st(d),M.c(),v(M,1),M.m(a,R)):M&&(se(),C(M,1,1,()=>{M=null}),ne()),d[12]?F?(F.p(d,w),w[0]&4096&&v(F,1)):(F=ot(d),F.c(),v(F,1),F.m(a,null)):F&&(se(),C(F,1,1,()=>{F=null}),ne()),(!p||w[0]&2)&&ee(e,"dragging",d[1])},i(d){p||(v(l.$$.fragment,d),v(D),v(B),v(E),v(H),v(M),v(F),p=!0)},o(d){C(l.$$.fragment,d),C(D),C(B),C(E),C(H),C(M),C(F),p=!1},d(d){d&&Z(e),Q(l),D&&D.d(),B&&B.d(),E&&E.d(),H&&H.d(),t[64](null),M&&M.d(),F&&F.d(),t[65](null),A=!1,xt(I)}}}let ut=!1;function gl(t,e,l){let{value:i={text:"",files:[]}}=e,{value_is_output:o=!1}=e,{lines:s=1}=e,{i18n:g}=e,{placeholder:a="Type here..."}=e,{disabled:r=!1}=e,{label:b}=e,{info:f=void 0}=e,{show_label:k=!0}=e,{max_lines:h}=e,{submit_btn:V=null}=e,{stop_btn:_=null}=e,{rtl:c=!1}=e,{autofocus:m=!1}=e,{text_align:R=void 0}=e,{autoscroll:p=!0}=e,{root:A}=e,{file_types:I=null}=e,{max_file_size:D=null}=e,{upload:B}=e,{stream_handler:E}=e,{file_count:H="multiple"}=e,{max_plain_text_length:M=1e3}=e,{waveform_settings:F}=e,{waveform_options:d={show_recording_waveform:!0}}=e,{sources:w=["upload"]}=e,{active_source:j=null}=e,G,$,U,K,ue=0,me=!1,{dragging:te=!1}=e,ge=!1,de=i.text,le=null,ae;const P=il();tl(()=>{K=U&&U.offsetHeight+U.scrollTop>U.scrollHeight-100});const Me=()=>{K&&p&&!me&&U.scrollTo(0,U.scrollHeight)};async function pe(){P("change",i),o||P("input")}el(()=>{m&&U!==null&&U.focus()}),ll(()=>{K&&p&&Me(),l(44,o=!1)});function Te(n){const T=n.target,L=T.value,Y=[T.selectionStart,T.selectionEnd];P("select",{value:L.substring(...Y),index:Y})}async function De(n){await ye(),n.key==="Enter"&&n.shiftKey&&s>1?(n.preventDefault(),P("submit")):n.key==="Enter"&&!n.shiftKey&&s===1&&h>=1&&(n.preventDefault(),P("submit"),l(2,j=null),le&&(i.files.push(le),l(0,i),l(29,le=null)))}function Be(n){const T=n.target,L=T.scrollTop;L<ue&&(me=!0),ue=L;const Y=T.scrollHeight-T.clientHeight;L>=Y&&(me=!1)}async function Ee({detail:n}){if(pe(),Array.isArray(n)){for(let T of n)i.files.push(T);l(0,i)}else i.files.push(n),l(0,i);await ye(),P("change",i),P("upload",n)}function we(n,T){pe(),n.stopPropagation(),i.files.splice(T,1),l(0,i)}function He(){$&&(l(27,$.value="",$),$.click())}function Fe(){P("stop")}function Re(){P("submit"),l(2,j=null),le&&(i.files.push(le),l(0,i),l(29,le=null))}async function Ve(n){if(!n.clipboardData)return;const T=n.clipboardData.items,L=n.clipboardData.getData("text");if(L&&L.length>M){n.preventDefault();const Y=new window.File([L],"pasted_text.txt",{type:"text/plain",lastModified:Date.now()});G&&G.load_files([Y]);return}for(let Y in T){const re=T[Y];if(re.kind==="file"&&re.type.includes("image")){const fe=re.getAsFile();fe&&G.load_files([fe])}}}function Ae(n){n.preventDefault(),l(1,te=!0)}function Pe(n){n.preventDefault();const T=ae.getBoundingClientRect(),{clientX:L,clientY:Y}=n;(L<=T.left||L>=T.right||Y<=T.top||Y>=T.bottom)&&l(1,te=!1)}function Ie(n){if(n.preventDefault(),l(1,te=!1),n.dataTransfer&&n.dataTransfer.files){const T=Array.from(n.dataTransfer.files);if(I){const L=T.filter(re=>I.some(fe=>fe.startsWith(".")?re.name.toLowerCase().endsWith(fe.toLowerCase()):re.type.match(new RegExp(fe.replace("*",".*"))))),Y=T.length-L.length;Y>0&&P("error",`${Y} file(s) were rejected. Accepted formats: ${I.join(", ")}`),L.length>0&&G.load_files(L)}else G.load_files(T)}}function Ue(n){ke.call(this,t,n)}function u(n){ke.call(this,t,n)}function at(n){ke.call(this,t,n)}const ft=(n,T)=>we(T,n),_t=({detail:n})=>{n!==null&&l(29,le=n)},ct=()=>{l(2,j=null)},mt=()=>P("start_recording"),gt=()=>P("pause_recording"),dt=()=>P("stop_recording");function ht(n){ce[n?"unshift":"push"](()=>{G=n,l(26,G)})}function bt(n){te=n,l(1,te)}function pt(n){ge=n,l(28,ge)}function wt(n){$=n,l(27,$)}function vt(n){ke.call(this,t,n)}const kt=()=>{l(2,j=j!=="microphone"?"microphone":null)};function Ct(){i.text=this.value,l(0,i)}function St(n){ce[n?"unshift":"push"](()=>{U=n,l(25,U)})}function qt(n){ce[n?"unshift":"push"](()=>{ae=n,l(30,ae)})}return t.$$set=n=>{"value"in n&&l(0,i=n.value),"value_is_output"in n&&l(44,o=n.value_is_output),"lines"in n&&l(3,s=n.lines),"i18n"in n&&l(4,g=n.i18n),"placeholder"in n&&l(5,a=n.placeholder),"disabled"in n&&l(6,r=n.disabled),"label"in n&&l(7,b=n.label),"info"in n&&l(8,f=n.info),"show_label"in n&&l(9,k=n.show_label),"max_lines"in n&&l(10,h=n.max_lines),"submit_btn"in n&&l(11,V=n.submit_btn),"stop_btn"in n&&l(12,_=n.stop_btn),"rtl"in n&&l(13,c=n.rtl),"autofocus"in n&&l(14,m=n.autofocus),"text_align"in n&&l(15,R=n.text_align),"autoscroll"in n&&l(45,p=n.autoscroll),"root"in n&&l(16,A=n.root),"file_types"in n&&l(17,I=n.file_types),"max_file_size"in n&&l(18,D=n.max_file_size),"upload"in n&&l(19,B=n.upload),"stream_handler"in n&&l(20,E=n.stream_handler),"file_count"in n&&l(21,H=n.file_count),"max_plain_text_length"in n&&l(46,M=n.max_plain_text_length),"waveform_settings"in n&&l(22,F=n.waveform_settings),"waveform_options"in n&&l(23,d=n.waveform_options),"sources"in n&&l(24,w=n.sources),"active_source"in n&&l(2,j=n.active_source),"dragging"in n&&l(1,te=n.dragging)},t.$$.update=()=>{t.$$.dirty[0]&2&&P("drag",te),t.$$.dirty[0]&1&&i===null&&l(0,i={text:"",files:[]}),t.$$.dirty[0]&1|t.$$.dirty[1]&65536&&de!==i.text&&(P("change",i),l(47,de=i.text)),t.$$.dirty[0]&33555465&&U&&s!==h&&We(U,s,h)},[i,te,j,s,g,a,r,b,f,k,h,V,_,c,m,R,A,I,D,B,E,H,F,d,w,U,G,$,ge,le,ae,P,Te,De,Be,Ee,we,He,Fe,Re,Ve,Ae,Pe,Ie,o,p,M,de,Ue,u,at,ft,_t,ct,mt,gt,dt,ht,bt,pt,wt,vt,kt,Ct,St,qt]}class dl extends Jt{constructor(e){super(),Zt(this,e,gl,ml,$t,{value:0,value_is_output:44,lines:3,i18n:4,placeholder:5,disabled:6,label:7,info:8,show_label:9,max_lines:10,submit_btn:11,stop_btn:12,rtl:13,autofocus:14,text_align:15,autoscroll:45,root:16,file_types:17,max_file_size:18,upload:19,stream_handler:20,file_count:21,max_plain_text_length:46,waveform_settings:22,waveform_options:23,sources:24,active_source:2,dragging:1},null,[-1,-1,-1])}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),q()}get value_is_output(){return this.$$.ctx[44]}set value_is_output(e){this.$$set({value_is_output:e}),q()}get lines(){return this.$$.ctx[3]}set lines(e){this.$$set({lines:e}),q()}get i18n(){return this.$$.ctx[4]}set i18n(e){this.$$set({i18n:e}),q()}get placeholder(){return this.$$.ctx[5]}set placeholder(e){this.$$set({placeholder:e}),q()}get disabled(){return this.$$.ctx[6]}set disabled(e){this.$$set({disabled:e}),q()}get label(){return this.$$.ctx[7]}set label(e){this.$$set({label:e}),q()}get info(){return this.$$.ctx[8]}set info(e){this.$$set({info:e}),q()}get show_label(){return this.$$.ctx[9]}set show_label(e){this.$$set({show_label:e}),q()}get max_lines(){return this.$$.ctx[10]}set max_lines(e){this.$$set({max_lines:e}),q()}get submit_btn(){return this.$$.ctx[11]}set submit_btn(e){this.$$set({submit_btn:e}),q()}get stop_btn(){return this.$$.ctx[12]}set stop_btn(e){this.$$set({stop_btn:e}),q()}get rtl(){return this.$$.ctx[13]}set rtl(e){this.$$set({rtl:e}),q()}get autofocus(){return this.$$.ctx[14]}set autofocus(e){this.$$set({autofocus:e}),q()}get text_align(){return this.$$.ctx[15]}set text_align(e){this.$$set({text_align:e}),q()}get autoscroll(){return this.$$.ctx[45]}set autoscroll(e){this.$$set({autoscroll:e}),q()}get root(){return this.$$.ctx[16]}set root(e){this.$$set({root:e}),q()}get file_types(){return this.$$.ctx[17]}set file_types(e){this.$$set({file_types:e}),q()}get max_file_size(){return this.$$.ctx[18]}set max_file_size(e){this.$$set({max_file_size:e}),q()}get upload(){return this.$$.ctx[19]}set upload(e){this.$$set({upload:e}),q()}get stream_handler(){return this.$$.ctx[20]}set stream_handler(e){this.$$set({stream_handler:e}),q()}get file_count(){return this.$$.ctx[21]}set file_count(e){this.$$set({file_count:e}),q()}get max_plain_text_length(){return this.$$.ctx[46]}set max_plain_text_length(e){this.$$set({max_plain_text_length:e}),q()}get waveform_settings(){return this.$$.ctx[22]}set waveform_settings(e){this.$$set({waveform_settings:e}),q()}get waveform_options(){return this.$$.ctx[23]}set waveform_options(e){this.$$set({waveform_options:e}),q()}get sources(){return this.$$.ctx[24]}set sources(e){this.$$set({sources:e}),q()}get active_source(){return this.$$.ctx[2]}set active_source(e){this.$$set({active_source:e}),q()}get dragging(){return this.$$.ctx[1]}set dragging(e){this.$$set({dragging:e}),q()}}const hl=dl,{SvelteComponent:bl,add_flush_callback:Ce,assign:pl,bind:Se,binding_callbacks:qe,check_outros:wl,create_component:Ne,destroy_component:Xe,detach:vl,flush:z,get_spread_object:kl,get_spread_update:Cl,group_outros:Sl,init:ql,insert:zl,mount_component:Je,safe_not_equal:Ml,space:Tl,transition_in:_e,transition_out:be}=window.__gradio__svelte__internal,{onMount:Dl}=window.__gradio__svelte__internal;function rt(t){let e,l;const i=[{autoscroll:t[2].autoscroll},{i18n:t[2].i18n},t[17]];let o={};for(let s=0;s<i.length;s+=1)o=pl(o,i[s]);return e=new It({props:o}),e.$on("clear_status",t[31]),{c(){Ne(e.$$.fragment)},m(s,g){Je(e,s,g),l=!0},p(s,g){const a=g[0]&131076?Cl(i,[g[0]&4&&{autoscroll:s[2].autoscroll},g[0]&4&&{i18n:s[2].i18n},g[0]&131072&&kl(s[17])]):{};e.$set(a)},i(s){l||(_e(e.$$.fragment,s),l=!0)},o(s){be(e.$$.fragment,s),l=!1},d(s){Xe(e,s)}}}function Bl(t){let e,l,i,o,s,g,a,r=t[17]&&rt(t);function b(_){t[34](_)}function f(_){t[35](_)}function k(_){t[36](_)}function h(_){t[37](_)}let V={file_types:t[6],root:t[23],label:t[9],info:t[10],show_label:t[11],lines:t[7],rtl:t[18],text_align:t[19],waveform_settings:t[29],i18n:t[2].i18n,max_lines:t[12]?t[12]:t[7]+1,placeholder:t[8],submit_btn:t[15],stop_btn:t[16],autofocus:t[20],autoscroll:t[21],file_count:t[24],sources:t[26],max_file_size:t[2].max_file_size,disabled:!t[22],upload:t[32],stream_handler:t[33],max_plain_text_length:t[25]};return t[0]!==void 0&&(V.value=t[0]),t[1]!==void 0&&(V.value_is_output=t[1]),t[27]!==void 0&&(V.dragging=t[27]),t[28]!==void 0&&(V.active_source=t[28]),l=new hl({props:V}),qe.push(()=>Se(l,"value",b)),qe.push(()=>Se(l,"value_is_output",f)),qe.push(()=>Se(l,"dragging",k)),qe.push(()=>Se(l,"active_source",h)),l.$on("change",t[38]),l.$on("input",t[39]),l.$on("submit",t[40]),l.$on("stop",t[41]),l.$on("blur",t[42]),l.$on("select",t[43]),l.$on("focus",t[44]),l.$on("error",t[45]),l.$on("start_recording",t[46]),l.$on("pause_recording",t[47]),l.$on("stop_recording",t[48]),l.$on("upload",t[49]),l.$on("clear",t[50]),{c(){r&&r.c(),e=Tl(),Ne(l.$$.fragment)},m(_,c){r&&r.m(_,c),zl(_,e,c),Je(l,_,c),a=!0},p(_,c){_[17]?r?(r.p(_,c),c[0]&131072&&_e(r,1)):(r=rt(_),r.c(),_e(r,1),r.m(e.parentNode,e)):r&&(Sl(),be(r,1,1,()=>{r=null}),wl());const m={};c[0]&64&&(m.file_types=_[6]),c[0]&8388608&&(m.root=_[23]),c[0]&512&&(m.label=_[9]),c[0]&1024&&(m.info=_[10]),c[0]&2048&&(m.show_label=_[11]),c[0]&128&&(m.lines=_[7]),c[0]&262144&&(m.rtl=_[18]),c[0]&524288&&(m.text_align=_[19]),c[0]&536870912&&(m.waveform_settings=_[29]),c[0]&4&&(m.i18n=_[2].i18n),c[0]&4224&&(m.max_lines=_[12]?_[12]:_[7]+1),c[0]&256&&(m.placeholder=_[8]),c[0]&32768&&(m.submit_btn=_[15]),c[0]&65536&&(m.stop_btn=_[16]),c[0]&1048576&&(m.autofocus=_[20]),c[0]&2097152&&(m.autoscroll=_[21]),c[0]&16777216&&(m.file_count=_[24]),c[0]&67108864&&(m.sources=_[26]),c[0]&4&&(m.max_file_size=_[2].max_file_size),c[0]&4194304&&(m.disabled=!_[22]),c[0]&4&&(m.upload=_[32]),c[0]&4&&(m.stream_handler=_[33]),c[0]&33554432&&(m.max_plain_text_length=_[25]),!i&&c[0]&1&&(i=!0,m.value=_[0],Ce(()=>i=!1)),!o&&c[0]&2&&(o=!0,m.value_is_output=_[1],Ce(()=>o=!1)),!s&&c[0]&134217728&&(s=!0,m.dragging=_[27],Ce(()=>s=!1)),!g&&c[0]&268435456&&(g=!0,m.active_source=_[28],Ce(()=>g=!1)),l.$set(m)},i(_){a||(_e(r),_e(l.$$.fragment,_),a=!0)},o(_){be(r),be(l.$$.fragment,_),a=!1},d(_){_&&vl(e),r&&r.d(_),Xe(l,_)}}}function El(t){let e,l;return e=new Pt({props:{visible:t[5],elem_id:t[3],elem_classes:[...t[4],"multimodal-textbox"],scale:t[13],min_width:t[14],allow_overflow:!1,padding:!1,border_mode:t[27]?"focus":"base",$$slots:{default:[Bl]},$$scope:{ctx:t}}}),{c(){Ne(e.$$.fragment)},m(i,o){Je(e,i,o),l=!0},p(i,o){const s={};o[0]&32&&(s.visible=i[5]),o[0]&8&&(s.elem_id=i[3]),o[0]&16&&(s.elem_classes=[...i[4],"multimodal-textbox"]),o[0]&8192&&(s.scale=i[13]),o[0]&16384&&(s.min_width=i[14]),o[0]&134217728&&(s.border_mode=i[27]?"focus":"base"),o[0]&1073717191|o[1]&8388608&&(s.$$scope={dirty:o,ctx:i}),e.$set(s)},i(i){l||(_e(e.$$.fragment,i),l=!0)},o(i){be(e.$$.fragment,i),l=!1},d(i){Xe(e,i)}}}function Hl(t,e,l){let{gradio:i}=e,{elem_id:o=""}=e,{elem_classes:s=[]}=e,{visible:g=!0}=e,{value:a={text:"",files:[]}}=e,{file_types:r=null}=e,{lines:b}=e,{placeholder:f=""}=e,{label:k="MultimodalTextbox"}=e,{info:h=void 0}=e,{show_label:V}=e,{max_lines:_}=e,{scale:c=null}=e,{min_width:m=void 0}=e,{submit_btn:R=null}=e,{stop_btn:p=null}=e,{loading_status:A=void 0}=e,{value_is_output:I=!1}=e,{rtl:D=!1}=e,{text_align:B=void 0}=e,{autofocus:E=!1}=e,{autoscroll:H=!0}=e,{interactive:M}=e,{root:F}=e,{file_count:d}=e,{max_plain_text_length:w}=e,{sources:j=["upload"]}=e,{waveform_options:G={}}=e,$,U=null,K,ue="darkorange";Dl(()=>{ue=getComputedStyle(document?.documentElement).getPropertyValue("--color-accent"),te(),l(29,K.waveColor=G.waveform_color||"#9ca3af",K),l(29,K.progressColor=G.waveform_progress_color||ue,K),l(29,K.mediaControls=G.show_controls,K),l(29,K.sampleRate=G.sample_rate||44100,K)});const me={color:G.trim_region_color,drag:!0,resize:!0};function te(){document.documentElement.style.setProperty("--trim-region-color",me.color||ue)}const ge=()=>i.dispatch("clear_status",A),de=(...u)=>i.client.upload(...u),le=(...u)=>i.client.stream(...u);function ae(u){a=u,l(0,a)}function P(u){I=u,l(1,I)}function Me(u){$=u,l(27,$)}function pe(u){U=u,l(28,U)}const Te=()=>i.dispatch("change",a),De=()=>i.dispatch("input"),Be=()=>i.dispatch("submit"),Ee=()=>i.dispatch("stop"),we=()=>i.dispatch("blur"),He=u=>i.dispatch("select",u.detail),Fe=()=>i.dispatch("focus"),Re=({detail:u})=>{i.dispatch("error",u)},Ve=()=>i.dispatch("start_recording"),Ae=()=>i.dispatch("pause_recording"),Pe=()=>i.dispatch("stop_recording"),Ie=u=>i.dispatch("upload",u.detail),Ue=()=>i.dispatch("clear");return t.$$set=u=>{"gradio"in u&&l(2,i=u.gradio),"elem_id"in u&&l(3,o=u.elem_id),"elem_classes"in u&&l(4,s=u.elem_classes),"visible"in u&&l(5,g=u.visible),"value"in u&&l(0,a=u.value),"file_types"in u&&l(6,r=u.file_types),"lines"in u&&l(7,b=u.lines),"placeholder"in u&&l(8,f=u.placeholder),"label"in u&&l(9,k=u.label),"info"in u&&l(10,h=u.info),"show_label"in u&&l(11,V=u.show_label),"max_lines"in u&&l(12,_=u.max_lines),"scale"in u&&l(13,c=u.scale),"min_width"in u&&l(14,m=u.min_width),"submit_btn"in u&&l(15,R=u.submit_btn),"stop_btn"in u&&l(16,p=u.stop_btn),"loading_status"in u&&l(17,A=u.loading_status),"value_is_output"in u&&l(1,I=u.value_is_output),"rtl"in u&&l(18,D=u.rtl),"text_align"in u&&l(19,B=u.text_align),"autofocus"in u&&l(20,E=u.autofocus),"autoscroll"in u&&l(21,H=u.autoscroll),"interactive"in u&&l(22,M=u.interactive),"root"in u&&l(23,F=u.root),"file_count"in u&&l(24,d=u.file_count),"max_plain_text_length"in u&&l(25,w=u.max_plain_text_length),"sources"in u&&l(26,j=u.sources),"waveform_options"in u&&l(30,G=u.waveform_options)},l(29,K={height:50,barWidth:2,barGap:3,cursorWidth:2,cursorColor:"#ddd5e9",autoplay:!1,barRadius:10,dragToSeek:!0,normalize:!0,minPxPerSec:20}),[a,I,i,o,s,g,r,b,f,k,h,V,_,c,m,R,p,A,D,B,E,H,M,F,d,w,j,$,U,K,G,ge,de,le,ae,P,Me,pe,Te,De,Be,Ee,we,He,Fe,Re,Ve,Ae,Pe,Ie,Ue]}class wi extends bl{constructor(e){super(),ql(this,e,Hl,El,Ml,{gradio:2,elem_id:3,elem_classes:4,visible:5,value:0,file_types:6,lines:7,placeholder:8,label:9,info:10,show_label:11,max_lines:12,scale:13,min_width:14,submit_btn:15,stop_btn:16,loading_status:17,value_is_output:1,rtl:18,text_align:19,autofocus:20,autoscroll:21,interactive:22,root:23,file_count:24,max_plain_text_length:25,sources:26,waveform_options:30},null,[-1,-1])}get gradio(){return this.$$.ctx[2]}set gradio(e){this.$$set({gradio:e}),z()}get elem_id(){return this.$$.ctx[3]}set elem_id(e){this.$$set({elem_id:e}),z()}get elem_classes(){return this.$$.ctx[4]}set elem_classes(e){this.$$set({elem_classes:e}),z()}get visible(){return this.$$.ctx[5]}set visible(e){this.$$set({visible:e}),z()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),z()}get file_types(){return this.$$.ctx[6]}set file_types(e){this.$$set({file_types:e}),z()}get lines(){return this.$$.ctx[7]}set lines(e){this.$$set({lines:e}),z()}get placeholder(){return this.$$.ctx[8]}set placeholder(e){this.$$set({placeholder:e}),z()}get label(){return this.$$.ctx[9]}set label(e){this.$$set({label:e}),z()}get info(){return this.$$.ctx[10]}set info(e){this.$$set({info:e}),z()}get show_label(){return this.$$.ctx[11]}set show_label(e){this.$$set({show_label:e}),z()}get max_lines(){return this.$$.ctx[12]}set max_lines(e){this.$$set({max_lines:e}),z()}get scale(){return this.$$.ctx[13]}set scale(e){this.$$set({scale:e}),z()}get min_width(){return this.$$.ctx[14]}set min_width(e){this.$$set({min_width:e}),z()}get submit_btn(){return this.$$.ctx[15]}set submit_btn(e){this.$$set({submit_btn:e}),z()}get stop_btn(){return this.$$.ctx[16]}set stop_btn(e){this.$$set({stop_btn:e}),z()}get loading_status(){return this.$$.ctx[17]}set loading_status(e){this.$$set({loading_status:e}),z()}get value_is_output(){return this.$$.ctx[1]}set value_is_output(e){this.$$set({value_is_output:e}),z()}get rtl(){return this.$$.ctx[18]}set rtl(e){this.$$set({rtl:e}),z()}get text_align(){return this.$$.ctx[19]}set text_align(e){this.$$set({text_align:e}),z()}get autofocus(){return this.$$.ctx[20]}set autofocus(e){this.$$set({autofocus:e}),z()}get autoscroll(){return this.$$.ctx[21]}set autoscroll(e){this.$$set({autoscroll:e}),z()}get interactive(){return this.$$.ctx[22]}set interactive(e){this.$$set({interactive:e}),z()}get root(){return this.$$.ctx[23]}set root(e){this.$$set({root:e}),z()}get file_count(){return this.$$.ctx[24]}set file_count(e){this.$$set({file_count:e}),z()}get max_plain_text_length(){return this.$$.ctx[25]}set max_plain_text_length(e){this.$$set({max_plain_text_length:e}),z()}get sources(){return this.$$.ctx[26]}set sources(e){this.$$set({sources:e}),z()}get waveform_options(){return this.$$.ctx[30]}set waveform_options(e){this.$$set({waveform_options:e}),z()}}export{Ci as BaseExample,hl as BaseMultimodalTextbox,wi as default};
//# sourceMappingURL=Index-pc0vjOIr.js.map
